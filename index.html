<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Música</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <header>
        <h1>Música</h1>
        <nav>
            <ul class="center-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="#product-list">Products</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
            <ul class="right-menu" id="user-menu">
                <!-- before login -->
                <li class="login"><a href="login.html">Login</a></li>
                <!-- after login -->
                <li class="user-menu hidden">
                    <a href="#" id="userName">Username</a>
                    <ul class="dropdown">
                        <li><a href="profile.html">Profile</a></li>
                        <li><a href="cart.html">Cart</a></li>
                        <li><a href="trackOrder.html">TrackOrder</a></li>
                        <li><a href="settings.html">Settings</a></li>
                        <li><a href="#" id="logout">Logout</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>
    <main>
        <section class="banner">
            <h2>Welcome to Música</h2>
            <p>Your one-stop shop for musical instruments.</p>
        </section>

        <section class="search-products">
            <h2>Products</h2>
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Search for products...">
                <button id="searchButton">Search</button>
            </div>

            <div class="category-container" id="category">
                <script>
                    //get data from database and push into array
                    category_array = ["View All"];
                    category_array.push("Acoustic Guitars", "Electric Guitars"); //SELECT category FROM product

                    for(i=0; i<category_array.length; i++) {
                        document.getElementById('category').innerHTML += "<button class=\"category-button\" data-category=\""+category_array[i]+"\">"+category_array[i]+"</button>";
                    }            
                </script>
            </div>            

            <div class="product-container">
                <section id="product-list" class="product-list">
                    <script>
                        // Simulate fetching data from the database
                        const products = [
                            {
                                category: "Acoustic Guitars",
                                name: "Yamaha Acoustic Guitar",
                                imgSrc: "images/guitar.jpg",
                                altText: "Yamaha Acoustic Guitar",
                                price: "$150",
                                productId: 1
                            },
                            {
                                category: "Acoustic Guitars",
                                name: "Gibson Acoustic Guitar",
                                imgSrc: "images/guitar.jpg",
                                altText: "Gibson Acoustic Guitar",
                                price: "$250",
                                productId: 2
                            }
                            <!-- 可以添加更多产品 -->
                        ];
                        
                        const productContainer = document.getElementById("product-list");
                    
                        // Loop through the products array to generate HTML content
                        products.forEach(product => {
                            const productDiv = `
                                <div class="product" data-category="${product.category}" data-name="${product.name}">
                                    <img src="${product.imgSrc}" alt="${product.altText}">
                                    <h3>${product.name}</h3>
                                    <p>Price: ${product.price}</p>
                                    <button class="buy-button" data-product-id="${product.productId}">Buy Now</button>
                                </div>
                            `;
                            productContainer.innerHTML += productDiv;
                        });
                    </script>
                </section>
            </div>
        </section>
        <button id="back-to-top">Back to Top</button>
    </main>
    <footer>
        <p>&copy; 2024 Música. All rights reserved.</p>
    </footer>
    <script src="scripts/main.js"></script>
    <script src="scripts/firebase.js"></script>
</body>
</html>